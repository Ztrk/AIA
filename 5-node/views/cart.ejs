<!DOCTYPE html>
<html>
  <%- include('head'); %>
  <body>
    <%- include('header') %>
    <main class="container">
      <% if (failureMessage) { %>
        <div class="alert alert-danger" role="alert">
          <p>Couldn't complete transaction</p>
          <p><%=failureMessage%></p>
        </div>
      <% } %>
      <h2>Your cart</h2>
      <% if (cart && cart.length > 0) { %>
        <% cart.forEach(game => { %>
          <div class="row">
            <div class="card col-12 my-2">
              <div class="card-body">
                <h6 class="card-title"><%=game.name%></h6>
                <form action="/cart/remove/<%=game.name%>" method="POST">
                  <button type="submit" class="btn btn-danger">Remove</button>
                </form>
              </div>
            </div class="card">
          </div>
        <% }); %>
        <div class="row">
          <form action="/cart/clear" method="POST" class="p-2">
            <button type="submit" class="btn btn-danger">Clear cart</button>
          </form>
          <form action="/cart/checkout" method="POST" class="p-2">
            <button type="submit" class="btn btn-primary">Checkout</button>
          </form>
        </div>
      <% } else { %>
        <p>Your cart is empty</p>
      <% } %>
    </main>
  </body>
</html>
